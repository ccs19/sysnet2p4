The reason he didn't like the destination bit is because recvfrom() gives you the IP address.
He thought terminating the data portion of the last fragment of a message with '\0'
was a decent idea.
Select, since it is used for the timer and stuff is only for the sender.
The amount of delay on the proxy server may as well be a constant, like 3 seconds.
Whether a delay occurs is random.
A state machine is just a switch statement within a while loop.
The proxy must be multithreaded so that it doesn't miss packets while it's doing stuff.